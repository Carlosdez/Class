<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Matemática Financiera</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        h1 {
            margin: 0;
        }
        
        .container {
            display: flex;
            gap: 20px;
        }
        
        .menu {
            flex: 1;
            background-color: white;
            border-radius: 5px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .content {
            flex: 3;
            background-color: white;
            border-radius: 5px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        input, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f4fc;
            border-radius: 4px;
            border-left: 4px solid #3498db;
        }
        
        .formula {
            font-family: monospace;
            background-color: #f0f0f0;
            padding: 2px 5px;
            border-radius: 3px;
        }
        
        .menu-item {
            padding: 10px;
            margin-bottom: 5px;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        
        .menu-item:hover {
            background-color: #f0f0f0;
        }
        
        .menu-item.active {
            background-color: #3498db;
            color: white;
        }
        
        .hidden {
            display: none;
        }
        
        .explanation {
            margin-top: 20px;
            font-size: 0.9em;
            color: #666;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 10px;
        }
        
        .tab {
            padding: 8px 15px;
            cursor: pointer;
            border: 1px solid #ddd;
            background-color: #f8f8f8;
            margin-right: 5px;
            border-radius: 4px 4px 0 0;
        }
        
        .tab.active {
            background-color: #3498db;
            color: white;
            border-color: #3498db;
        }
    </style>
</head>
<body>
    <header>
        <h1>Calculadora de Matemática Financiera</h1>
        <p>Herramienta profesional para cálculos financieros</p>
    </header>
    
    <div class="container">
        <div class="menu">
            <h3>Menú de Fórmulas</h3>
            <div class="menu-item active" data-form="interes-simple">Interés Simple</div>
            <div class="menu-item" data-form="valor-futuro-simple">Valor Futuro con Interés Simple</div>
            <div class="menu-item" data-form="interes-compuesto">Interés Compuesto</div>
            <div class="menu-item" data-form="valor-futuro-compuesto">Valor Futuro con Interés Compuesto</div>
            <div class="menu-item" data-form="valor-presente-compuesto">Valor Presente con Interés Compuesto</div>
            <div class="menu-item" data-form="tasa-interes-compuesto">Tasa de Interés Compuesto</div>
            <div class="menu-item" data-form="tiempo-interes-compuesto">Tiempo con Interés Compuesto</div>
            <div class="menu-item" data-form="descuento-simple">Descuento Simple</div>
            <div class="menu-item" data-form="tasa-descuento">Tasa de Descuento</div>
            <div class="menu-item" data-form="valor-presente">Valor Presente</div>
            <div class="menu-item" data-form="valor-futuro">Valor Futuro</div>
        </div>
        
        <div class="content">
            <!-- Interés Simple -->
            <div id="interes-simple-form" class="form-content">
                <h2>Interés Simple</h2>
                <p class="formula">I = VP × i × n</p>
                <div class="form-group">
                    <label for="is-capital">Valor Presente (VP):</label>
                    <input type="number" id="is-capital" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="is-tasa">Tasa de interés periódica (i):</label>
                    <input type="number" id="is-tasa" step="0.0001" min="0">
                </div>
                <div class="form-group">
                    <label for="is-tiempo">Número de períodos (n):</label>
                    <input type="number" id="is-tiempo" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="is-unidad">Unidad de tiempo:</label>
                    <select id="is-unidad">
                        <option value="dias">Días</option>
                        <option value="meses">Meses</option>
                        <option value="anios" selected>Años</option>
                    </select>
                </div>
                <button onclick="calcularInteresSimple()">Calcular Interés</button>
                <div id="is-result" class="result hidden"></div>
                <div class="explanation">
                    <p>El interés simple se calcula multiplicando el valor presente por la tasa de interés y por el número de períodos.</p>
                    <p>Donde:</p>
                    <ul>
                        <li>I = Interés</li>
                        <li>VP = Valor Presente (capital inicial)</li>
                        <li>i = Tasa de interés periódica (en decimal)</li>
                        <li>n = Número de períodos</li>
                    </ul>
                </div>
            </div>
            
            <!-- Valor Futuro con Interés Simple -->
            <div id="valor-futuro-simple-form" class="form-content hidden">
                <h2>Valor Futuro con Interés Simple</h2>
                <p class="formula">VF = VP × (1 + i × n)</p>
                <div class="form-group">
                    <label for="vfs-capital">Valor Presente (VP):</label>
                    <input type="number" id="vfs-capital" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="vfs-tasa">Tasa de interés periódica (i):</label>
                    <input type="number" id="vfs-tasa" step="0.0001" min="0">
                </div>
                <div class="form-group">
                    <label for="vfs-tiempo">Número de períodos (n):</label>
                    <input type="number" id="vfs-tiempo" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="vfs-unidad">Unidad de tiempo:</label>
                    <select id="vfs-unidad">
                        <option value="dias">Días</option>
                        <option value="meses">Meses</option>
                        <option value="anios" selected>Años</option>
                    </select>
                </div>
                <button onclick="calcularValorFuturoSimple()">Calcular Valor Futuro</button>
                <div id="vfs-result" class="result hidden"></div>
                <div class="explanation">
                    <p>El valor futuro con interés simple es la suma del valor presente más los intereses generados.</p>
                    <p>Donde:</p>
                    <ul>
                        <li>VF = Valor Futuro</li>
                        <li>VP = Valor Presente</li>
                        <li>i = Tasa de interés periódica (en decimal)</li>
                        <li>n = Número de períodos</li>
                    </ul>
                </div>
            </div>
            
            <!-- Interés Compuesto -->
            <div id="interes-compuesto-form" class="form-content hidden">
                <h2>Interés Compuesto</h2>
                <p class="formula">I = VP × [(1 + i)<sup>n</sup> - 1]</p>
                <div class="form-group">
                    <label for="ic-capital">Valor Presente (VP):</label>
                    <input type="number" id="ic-capital" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="ic-tasa">Tasa de interés periódica (i):</label>
                    <input type="number" id="ic-tasa" step="0.0001" min="0">
                </div>
                <div class="form-group">
                    <label for="ic-periodos">Número de períodos (n):</label>
                    <input type="number" id="ic-periodos" step="1" min="1">
                </div>
                <button onclick="calcularInteresCompuesto()">Calcular Interés</button>
                <div id="ic-result" class="result hidden"></div>
                <div class="explanation">
                    <p>El interés compuesto es el interés calculado sobre el capital inicial más los intereses acumulados de períodos anteriores.</p>
                    <p>Donde:</p>
                    <ul>
                        <li>I = Interés compuesto</li>
                        <li>VP = Valor Presente (capital inicial)</li>
                        <li>i = Tasa de interés periódica (en decimal)</li>
                        <li>n = Número de períodos</li>
                    </ul>
                </div>
            </div>
            
            <!-- Valor Futuro con Interés Compuesto -->
            <div id="valor-futuro-compuesto-form" class="form-content hidden">
                <h2>Valor Futuro con Interés Compuesto</h2>
                <p class="formula">VF = VP × (1 + i)<sup>n</sup></p>
                <div class="form-group">
                    <label for="vfc-capital">Valor Presente (VP):</label>
                    <input type="number" id="vfc-capital" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="vfc-tasa">Tasa de interés periódica (i):</label>
                    <input type="number" id="vfc-tasa" step="0.0001" min="0">
                </div>
                <div class="form-group">
                    <label for="vfc-periodos">Número de períodos (n):</label>
                    <input type="number" id="vfc-periodos" step="1" min="1">
                </div>
                <button onclick="calcularValorFuturoCompuesto()">Calcular Valor Futuro</button>
                <div id="vfc-result" class="result hidden"></div>
                <div class="explanation">
                    <p>El valor futuro con interés compuesto es el capital inicial multiplicado por (1 más la tasa de interés) elevado al número de períodos.</p>
                    <p>Donde:</p>
                    <ul>
                        <li>VF = Valor Futuro</li>
                        <li>VP = Valor Presente</li>
                        <li>i = Tasa de interés periódica (en decimal)</li>
                        <li>n = Número de períodos</li>
                    </ul>
                </div>
            </div>
            
            <!-- Valor Presente con Interés Compuesto -->
            <div id="valor-presente-compuesto-form" class="form-content hidden">
                <h2>Valor Presente con Interés Compuesto</h2>
                <p class="formula">VP = VF / (1 + i)<sup>n</sup></p>
                <div class="form-group">
                    <label for="vpc-monto">Valor Futuro (VF):</label>
                    <input type="number" id="vpc-monto" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="vpc-tasa">Tasa de interés periódica (i):</label>
                    <input type="number" id="vpc-tasa" step="0.0001" min="0">
                </div>
                <div class="form-group">
                    <label for="vpc-periodos">Número de períodos (n):</label>
                    <input type="number" id="vpc-periodos" step="1" min="1">
                </div>
                <button onclick="calcularValorPresenteCompuesto()">Calcular Valor Presente</button>
                <div id="vpc-result" class="result hidden"></div>
                <div class="explanation">
                    <p>El valor presente se calcula dividiendo el valor futuro entre (1 más la tasa de interés) elevado al número de períodos.</p>
                    <p>Donde:</p>
                    <ul>
                        <li>VP = Valor Presente</li>
                        <li>VF = Valor Futuro</li>
                        <li>i = Tasa de interés periódica (en decimal)</li>
                        <li>n = Número de períodos</li>
                    </ul>
                </div>
            </div>
            
            <!-- Tasa de Interés Compuesto -->
            <div id="tasa-interes-compuesto-form" class="form-content hidden">
                <h2>Tasa de Interés Compuesto</h2>
                <p class="formula">i = (VF / VP)<sup>1/n</sup> - 1</p>
                <div class="form-group">
                    <label for="tic-monto">Valor Futuro (VF):</label>
                    <input type="number" id="tic-monto" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="tic-capital">Valor Presente (VP):</label>
                    <input type="number" id="tic-capital" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="tic-periodos">Número de períodos (n):</label>
                    <input type="number" id="tic-periodos" step="1" min="1">
                </div>
                <button onclick="calcularTasaInteresCompuesto()">Calcular Tasa</button>
                <div id="tic-result" class="result hidden"></div>
                <div class="explanation">
                    <p>La tasa de interés periódica se calcula como la raíz n-ésima del cociente entre el valor futuro y el valor presente, menos uno.</p>
                    <p>Donde:</p>
                    <ul>
                        <li>i = Tasa de interés periódica (en decimal)</li>
                        <li>VF = Valor Futuro</li>
                        <li>VP = Valor Presente</li>
                        <li>n = Número de períodos</li>
                    </ul>
                </div>
            </div>
            
            <!-- Tiempo con Interés Compuesto -->
            <div id="tiempo-interes-compuesto-form" class="form-content hidden">
                <h2>Tiempo con Interés Compuesto</h2>
                <p class="formula">n = log(VF / VP) / log(1 + i)</p>
                <div class="form-group">
                    <label for="timeic-monto">Valor Futuro (VF):</label>
                    <input type="number" id="timeic-monto" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="timeic-capital">Valor Presente (VP):</label>
                    <input type="number" id="timeic-capital" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="timeic-tasa">Tasa de interés periódica (i):</label>
                    <input type="number" id="timeic-tasa" step="0.0001" min="0">
                </div>
                <button onclick="calcularTiempoInteresCompuesto()">Calcular Tiempo</button>
                <div id="timeic-result" class="result hidden"></div>
                <div class="explanation">
                    <p>El tiempo necesario se calcula como el logaritmo del cociente entre el valor futuro y el valor presente, dividido por el logaritmo de (1 más la tasa de interés).</p>
                    <p>Donde:</p>
                    <ul>
                        <li>n = Número de períodos</li>
                        <li>VF = Valor Futuro</li>
                        <li>VP = Valor Presente</li>
                        <li>i = Tasa de interés periódica (en decimal)</li>
                    </ul>
                </div>
            </div>
            
            <!-- Descuento Simple -->
            <div id="descuento-simple-form" class="form-content hidden">
                <h2>Descuento Simple</h2>
                <div class="tabs">
                    <div class="tab active" data-tab="comercial">Comercial</div>
                    <div class="tab" data-tab="racional">Racional</div>
                </div>
                
                <div id="descuento-comercial-content">
                    <p class="formula">D = VN × d × n (Descuento comercial)</p>
                    <div class="form-group">
                        <label for="ds-valor-nominal">Valor Nominal (VN):</label>
                        <input type="number" id="ds-valor-nominal" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="ds-tasa-descuento">Tasa de descuento (d):</label>
                        <input type="number" id="ds-tasa-descuento" step="0.0001" min="0">
                    </div>
                    <div class="form-group">
                        <label for="ds-tiempo">Número de períodos (n):</label>
                        <input type="number" id="ds-tiempo" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="ds-unidad">Unidad de tiempo:</label>
                        <select id="ds-unidad">
                            <option value="dias">Días</option>
                            <option value="meses">Meses</option>
                            <option value="anios">Años</option>
                        </select>
                    </div>
                    <button onclick="calcularDescuentoSimple('comercial')">Calcular Descuento</button>
                </div>
                
                <div id="descuento-racional-content" class="hidden">
                    <p class="formula">D = (VN × d × n)/(1 + d × n) (Descuento racional)</p>
                    <div class="form-group">
                        <label for="dsr-valor-nominal">Valor Nominal (VN):</label>
                        <input type="number" id="dsr-valor-nominal" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="dsr-tasa-descuento">Tasa de descuento (d):</label>
                        <input type="number" id="dsr-tasa-descuento" step="0.0001" min="0">
                    </div>
                    <div class="form-group">
                        <label for="dsr-tiempo">Número de períodos (n):</label>
                        <input type="number" id="dsr-tiempo" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="dsr-unidad">Unidad de tiempo:</label>
                        <select id="dsr-unidad">
                            <option value="dias">Días</option>
                            <option value="meses">Meses</option>
                            <option value="anios">Años</option>
                        </select>
                    </div>
                    <button onclick="calcularDescuentoSimple('racional')">Calcular Descuento</button>
                </div>
                
                <div id="ds-result" class="result hidden"></div>
                <div class="explanation">
                    <p>El descuento simple es la reducción aplicada a un valor nominal para obtener su valor actual.</p>
                    <p><strong>Descuento comercial:</strong> Se calcula sobre el valor nominal.</p>
                    <p><strong>Descuento racional:</strong> Se calcula sobre el valor actual.</p>
                </div>
            </div>
            
            <!-- Tasa de Descuento -->
            <div id="tasa-descuento-form" class="form-content hidden">
                <h2>Tasa de Descuento</h2>
                <div class="tabs">
                    <div class="tab active" data-tab="comercial">Comercial</div>
                    <div class="tab" data-tab="racional">Racional</div>
                </div>
                
                <div id="tasa-descuento-comercial-content">
                    <p class="formula">d = D / (VN × n) (Descuento comercial)</p>
                    <div class="form-group">
                        <label for="td-descuento">Descuento (D):</label>
                        <input type="number" id="td-descuento" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="td-valor-nominal">Valor Nominal (VN):</label>
                        <input type="number" id="td-valor-nominal" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="td-tiempo">Número de períodos (n):</label>
                        <input type="number" id="td-tiempo" step="0.01" min="0">
                    </div>
                    <button onclick="calcularTasaDescuento('comercial')">Calcular Tasa</button>
                </div>
                
                <div id="tasa-descuento-racional-content" class="hidden">
                    <p class="formula">d = D / (VA × n) (Descuento racional)</p>
                    <div class="form-group">
                        <label for="tdr-descuento">Descuento (D):</label>
                        <input type="number" id="tdr-descuento" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="tdr-valor-actual">Valor Actual (VA):</label>
                        <input type="number" id="tdr-valor-actual" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="tdr-tiempo">Número de períodos (n):</label>
                        <input type="number" id="tdr-tiempo" step="0.01" min="0">
                    </div>
                    <button onclick="calcularTasaDescuento('racional')">Calcular Tasa</button>
                </div>
                
                <div id="td-result" class="result hidden"></div>
                <div class="explanation">
                    <p>La tasa de descuento es el porcentaje que se aplica al valor nominal o actual para calcular el descuento.</p>
                </div>
            </div>
            
            <!-- Valor Presente -->
            <div id="valor-presente-form" class="form-content hidden">
                <h2>Valor Presente</h2>
                <p class="formula">VP = VF / (1 + i)<sup>n</sup></p>
                <div class="form-group">
                    <label for="vp-valor-futuro">Valor Futuro (VF):</label>
                    <input type="number" id="vp-valor-futuro" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="vp-tasa">Tasa de interés periódica (i):</label>
                    <input type="number" id="vp-tasa" step="0.0001" min="0">
                </div>
                <div class="form-group">
                    <label for="vp-periodos">Número de períodos (n):</label>
                    <input type="number" id="vp-periodos" step="1" min="1">
                </div>
                <button onclick="calcularValorPresente()">Calcular Valor Presente</button>
                <div id="vp-result" class="result hidden"></div>
                <div class="explanation">
                    <p>El valor presente es el valor actual de una cantidad futura, descontada a una tasa de interés específica.</p>
                    <p>Donde:</p>
                    <ul>
                        <li>VP = Valor Presente</li>
                        <li>VF = Valor Futuro</li>
                        <li>i = Tasa de interés periódica (en decimal)</li>
                        <li>n = Número de períodos</li>
                    </ul>
                </div>
            </div>
            
            <!-- Valor Futuro -->
            <div id="valor-futuro-form" class="form-content hidden">
                <h2>Valor Futuro</h2>
                <p class="formula">VF = VP × (1 + i)<sup>n</sup></p>
                <div class="form-group">
                    <label for="vf-valor-presente">Valor Presente (VP):</label>
                    <input type="number" id="vf-valor-presente" step="0.01" min="0">
                </div>
                <div class="form-group">
                    <label for="vf-tasa">Tasa de interés periódica (i):</label>
                    <input type="number" id="vf-tasa" step="0.0001" min="0">
                </div>
                <div class="form-group">
                    <label for="vf-periodos">Número de períodos (n):</label>
                    <input type="number" id="vf-periodos" step="1" min="1">
                </div>
                <button onclick="calcularValorFuturo()">Calcular Valor Futuro</button>
                <div id="vf-result" class="result hidden"></div>
                <div class="explanation">
                    <p>El valor futuro es el valor de un activo en una fecha futura basado en una tasa de crecimiento asumida.</p>
                    <p>Donde:</p>
                    <ul>
                        <li>VF = Valor Futuro</li>
                        <li>VP = Valor Presente</li>
                        <li>i = Tasa de interés periódica (en decimal)</li>
                        <li>n = Número de períodos</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Función para cambiar entre formularios
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function() {
                // Remover clase active de todos los items
                document.querySelectorAll('.menu-item').forEach(i => {
                    i.classList.remove('active');
                });
                
                // Agregar clase active al item clickeado
                this.classList.add('active');
                
                // Ocultar todos los formularios
                document.querySelectorAll('.form-content').forEach(form => {
                    form.classList.add('hidden');
                });
                
                // Mostrar el formulario correspondiente
                const formId = this.getAttribute('data-form') + '-form';
                document.getElementById(formId).classList.remove('hidden');
            });
        });
        
        // Función para cambiar pestañas en descuento
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabType = this.getAttribute('data-tab');
                const container = this.closest('.tabs').parentElement;
                
                // Cambiar pestaña activa
                container.querySelectorAll('.tab').forEach(t => {
                    t.classList.remove('active');
                });
                this.classList.add('active');
                
                // Mostrar contenido correspondiente
                if (tabType === 'comercial') {
                    container.querySelector('#descuento-comercial-content').classList.remove('hidden');
                    container.querySelector('#descuento-racional-content').classList.add('hidden');
                } else {
                    container.querySelector('#descuento-comercial-content').classList.add('hidden');
                    container.querySelector('#descuento-racional-content').classList.remove('hidden');
                }
            });
        });
        
        // Funciones de validación
        function validarCampos(campos) {
            for (const campo of campos) {
                if (isNaN(campo.value) {
                    alert(`Por favor ingrese un valor válido en ${campo.label}`);
                    return false;
                }
                if (campo.value <= 0) {
                    alert(`${campo.label} debe ser mayor que cero`);
                    return false;
                }
            }
            return true;
        }
        
        // Funciones de cálculo
        
        function calcularInteresSimple() {
            const capital = document.getElementById('is-capital');
            const tasa = document.getElementById('is-tasa');
            const tiempo = document.getElementById('is-tiempo');
            
            if (!validarCampos([
                {value: parseFloat(capital.value), label: 'Valor Presente'},
                {value: parseFloat(tasa.value), label: 'Tasa de interés'},
                {value: parseFloat(tiempo.value), label: 'Número de períodos'}
            ])) return;
            
            const capitalVal = parseFloat(capital.value);
            const tasaVal = parseFloat(tasa.value) / 100;
            const tiempoVal = parseFloat(tiempo.value);
            
            const interes = capitalVal * tasaVal * tiempoVal;
            
            const resultDiv = document.getElementById('is-result');
            resultDiv.innerHTML = `
                <p><strong>Interés Simple:</strong> $${interes.toFixed(2)}</p>
                <p><strong>Valor Futuro:</strong> $${(capitalVal + interes).toFixed(2)}</p>
                <p>Fórmula aplicada: I = VP × i × n = ${capitalVal} × ${tasaVal} × ${tiempoVal} = ${interes.toFixed(2)}</p>
            `;
            resultDiv.classList.remove('hidden');
        }
        
        function calcularValorFuturoSimple() {
            const capital = document.getElementById('vfs-capital');
            const tasa = document.getElementById('vfs-tasa');
            const tiempo = document.getElementById('vfs-tiempo');
            
            if (!validarCampos([
                {value: parseFloat(capital.value), label: 'Valor Presente'},
                {value: parseFloat(tasa.value), label: 'Tasa de interés'},
                {value: parseFloat(tiempo.value), label: 'Número de períodos'}
            ])) return;
            
            const capitalVal = parseFloat(capital.value);
            const tasaVal = parseFloat(tasa.value) / 100;
            const tiempoVal = parseFloat(tiempo.value);
            
            const valorFuturo = capitalVal * (1 + tasaVal * tiempoVal);
            
            const resultDiv = document.getElementById('vfs-result');
            resultDiv.innerHTML = `
                <p><strong>Valor Futuro:</strong> $${valorFuturo.toFixed(2)}</p>
                <p><strong>Interés Generado:</strong> $${(valorFuturo - capitalVal).toFixed(2)}</p>
                <p>Fórmula aplicada: VF = VP × (1 + i × n) = ${capitalVal} × (1 + ${tasaVal} × ${tiempoVal}) = ${valorFuturo.toFixed(2)}</p>
            `;
            resultDiv.classList.remove('hidden');
        }
        
        function calcularInteresCompuesto() {
            const capital = document.getElementById('ic-capital');
            const tasa = document.getElementById('ic-tasa');
            const periodos = document.getElementById('ic-periodos');
            
            if (!validarCampos([
                {value: parseFloat(capital.value), label: 'Valor Presente'},
                {value: parseFloat(tasa.value), label: 'Tasa de interés'},
                {value: parseFloat(periodos.value), label: 'Número de períodos'}
            ])) return;
            
            const capitalVal = parseFloat(capital.value);
            const tasaVal = parseFloat(tasa.value) / 100;
            const periodosVal = parseFloat(periodos.value);
            
            const interes = capitalVal * (Math.pow(1 + tasaVal, periodosVal) - 1);
            
            const resultDiv = document.getElementById('ic-result');
            resultDiv.innerHTML = `
                <p><strong>Interés Compuesto:</strong> $${interes.toFixed(2)}</p>
                <p><strong>Valor Futuro:</strong> $${(capitalVal + interes).toFixed(2)}</p>
                <p>Fórmula aplicada: I = VP × [(1 + i)<sup>n</sup> - 1] = ${capitalVal} × [(1 + ${tasaVal})<sup>${periodosVal}</sup> - 1] = ${interes.toFixed(2)}</p>
            `;
            resultDiv.classList.remove('hidden');
        }
        
        function calcularValorFuturoCompuesto() {
            const capital = document.getElementById('vfc-capital');
            const tasa = document.getElementById('vfc-tasa');
            const periodos = document.getElementById('vfc-periodos');
            
            if (!validarCampos([
                {value: parseFloat(capital.value), label: 'Valor Presente'},
                {value: parseFloat(tasa.value), label: 'Tasa de interés'},
                {value: parseFloat(periodos.value), label: 'Número de períodos'}
            ])) return;
            
            const capitalVal = parseFloat(capital.value);
            const tasaVal = parseFloat(tasa.value) / 100;
            const periodosVal = parseFloat(periodos.value);
            
            const valorFuturo = capitalVal * Math.pow(1 + tasaVal, periodosVal);
            
            const resultDiv = document.getElementById('vfc-result');
            resultDiv.innerHTML = `
                <p><strong>Valor Futuro:</strong> $${valorFuturo.toFixed(2)}</p>
                <p><strong>Interés Generado:</strong> $${(valorFuturo - capitalVal).toFixed(2)}</p>
                <p>Fórmula aplicada: VF = VP × (1 + i)<sup>n</sup> = ${capitalVal} × (1 + ${tasaVal})<sup>${periodosVal}</sup> = ${valorFuturo.toFixed(2)}</p>
            `;
            resultDiv.classList.remove('hidden');
        }
        
        function calcularValorPresenteCompuesto() {
            const monto = document.getElementById('vpc-monto');
            const tasa = document.getElementById('vpc-tasa');
            const periodos = document.getElementById('vpc-periodos');
            
            if (!validarCampos([
                {value: parseFloat(monto.value), label: 'Valor Futuro'},
                {value: parseFloat(tasa.value), label: 'Tasa de interés'},
                {value: parseFloat(periodos.value), label: 'Número de períodos'}
            ])) return;
            
            const montoVal = parseFloat(monto.value);
            const tasaVal = parseFloat(tasa.value) / 100;
            const periodosVal = parseFloat(periodos.value);
            
            const valorPresente = montoVal / Math.pow(1 + tasaVal, periodosVal);
            
            const resultDiv = document.getElementById('vpc-result');
            resultDiv.innerHTML = `
                <p><strong>Valor Presente:</strong> $${valorPresente.toFixed(2)}</p>
                <p><strong>Descuento:</strong> $${(montoVal - valorPresente).toFixed(2)}</p>
                <p>Fórmula aplicada: VP = VF / (1 + i)<sup>n</sup> = ${montoVal} / (1 + ${tasaVal})<sup>${periodosVal}</sup> = ${valorPresente.toFixed(2)}</p>
            `;
            resultDiv.classList.remove('hidden');
        }
        
        function calcularTasaInteresCompuesto() {
            const monto = document.getElementById('tic-monto');
            const capital = document.getElementById('tic-capital');
            const periodos = document.getElementById('tic-periodos');
            
            if (!validarCampos([
                {value: parseFloat(monto.value), label: 'Valor Futuro'},
                {value: parseFloat(capital.value), label: 'Valor Presente'},
                {value: parseFloat(periodos.value), label: 'Número de períodos'}
            ])) return;
            
            const montoVal = parseFloat(monto.value);
            const capitalVal = parseFloat(capital.value);
            const periodosVal = parseFloat(periodos.value);
            
            if (montoVal <= capitalVal) {
                alert('El Valor Futuro debe ser mayor que el Valor Presente');
                return;
            }
            
            const tasa = Math.pow(montoVal / capitalVal, 1 / periodosVal) - 1;
            
            const resultDiv = document.getElementById('tic-result');
            resultDiv.innerHTML = `
                <p><strong>Tasa de Interés Periódica:</strong> ${(tasa * 100).toFixed(4)}%</p>
                <p><strong>Tasa Nominal Anual (si el período es mensual):</strong> ${(tasa * 12 * 100).toFixed(4)}%</p>
                <p><strong>Tasa Efectiva Anual:</strong> ${(Math.pow(1 + tasa, 12) - 1) * 100).toFixed(4)}% (si el período es mensual)</p>
                <p>Fórmula aplicada: i = (VF / VP)<sup>1/n</sup> - 1 = (${montoVal} / ${capitalVal})<sup>1/${periodosVal}</sup> - 1 = ${tasa.toFixed(6)}</p>
            `;
            resultDiv.classList.remove('hidden');
        }
        
        function calcularTiempoInteresCompuesto() {
            const monto = document.getElementById('timeic-monto');
            const capital = document.getElementById('timeic-capital');
            const tasa = document.getElementById('timeic-tasa');
            
            if (!validarCampos([
                {value: parseFloat(monto.value), label: 'Valor Futuro'},
                {value: parseFloat(capital.value), label: 'Valor Presente'},
                {value: parseFloat(tasa.value), label: 'Tasa de interés'}
            ])) return;
            
            const montoVal = parseFloat(monto.value);
            const capitalVal = parseFloat(capital.value);
            const tasaVal = parseFloat(tasa.value) / 100;
            
            if (montoVal <= capitalVal) {
                alert('El Valor Futuro debe ser mayor que el Valor Presente');
                return;
            }
            
            if (tasaVal <= 0) {
                alert('La tasa de interés debe ser mayor que cero');
                return;
            }
            
            const tiempo = Math.log(montoVal / capitalVal) / Math.log(1 + tasaVal);
            
            const resultDiv = document.getElementById('timeic-result');
            resultDiv.innerHTML = `
                <p><strong>Tiempo necesario:</strong> ${tiempo.toFixed(2)} períodos</p>
                <p>Fórmula aplicada: n = log(VF / VP) / log(1 + i) = log(${montoVal} / ${capitalVal}) / log(1 + ${tasaVal}) = ${tiempo.toFixed(2)}</p>
            `;
            resultDiv.classList.remove('hidden');
        }
        
        function calcularDescuentoSimple(tipo) {
            let valorNominal, tasaDescuento, tiempo, unidad;
            
            if (tipo === 'comercial') {
                valorNominal = document.getElementById('ds-valor-nominal');
                tasaDescuento = document.getElementById('ds-tasa-descuento');
                tiempo = document.getElementById('ds-tiempo');
                unidad = document.getElementById('ds-unidad').value;
            } else {
                valorNominal = document.getElementById('dsr-valor-nominal');
                tasaDescuento = document.getElementById('dsr-tasa-descuento');
                tiempo = document.getElementById('dsr-tiempo');
                unidad = document.getElementById('dsr-unidad').value;
            }
            
            if (!validarCampos([
                {value: parseFloat(valorNominal.value), label: 'Valor Nominal'},
                {value: parseFloat(tasaDescuento.value), label: 'Tasa de descuento'},
                {value: parseFloat(tiempo.value), label: 'Número de períodos'}
            ])) return;
            
            const valorNominalVal = parseFloat(valorNominal.value);
            const tasaDescuentoVal = parseFloat(tasaDescuento.value) / 100;
            const tiempoVal = parseFloat(tiempo.value);
            
            let descuento, valorActual;
            
            if (tipo === 'comercial') {
                descuento = valorNominalVal * tasaDescuentoVal * tiempoVal;
                valorActual = valorNominalVal - descuento;
            } else {
                descuento = (valorNominalVal * tasaDescuentoVal * tiempoVal) / (1 + tasaDescuentoVal * tiempoVal);
                valorActual = valorNominalVal - descuento;
            }
            
            const resultDiv = document.getElementById('ds-result');
            resultDiv.innerHTML = `
                <p><strong>Descuento ${tipo === 'comercial' ? 'Comercial' : 'Racional'}:</strong> $${descuento.toFixed(2)}</p>
                <p><strong>Valor Actual:</strong> $${valorActual.toFixed(2)}</p>
                <p><strong>Tipo:</strong> ${unidad === 'dias' ? 'Días' : unidad === 'meses' ? 'Meses' : 'Años'}</p>
                <p>Fórmula aplicada: ${tipo === 'comercial' 
                    ? `D = VN × d × n = ${valorNominalVal} × ${tasaDescuentoVal} × ${tiempoVal}` 
                    : `D = (VN × d × n)/(1 + d × n) = (${valorNominalVal} × ${tasaDescuentoVal} × ${tiempoVal})/(1 + ${tasaDescuentoVal} × ${tiempoVal})`} = ${descuento.toFixed(2)}</p>
            `;
            resultDiv.classList.remove('hidden');
        }
        
        function calcularTasaDescuento(tipo) {
            let descuento, valor, tiempo;
            
            if (tipo === 'comercial') {
                descuento = document.getElementById('td-descuento');
                valor = document.getElementById('td-valor-nominal');
                tiempo = document.getElementById('td-tiempo');
            } else {
                descuento = document.getElementById('tdr-descuento');
                valor = document.getElementById('tdr-valor-actual');
                tiempo = document.getElementById('tdr-tiempo');
            }
            
            if (!validarCampos([
                {value: parseFloat(descuento.value), label: 'Descuento'},
                {value: parseFloat(valor.value), label: tipo === 'comercial' ? 'Valor Nominal' : 'Valor Actual'},
                {value: parseFloat(tiempo.value), label: 'Número de períodos'}
            ])) return;
            
            const descuentoVal = parseFloat(descuento.value);
            const valorVal = parseFloat(valor.value);
            const tiempoVal = parseFloat(tiempo.value);
            
            let tasaDescuento;
            
            if (tipo === 'comercial') {
                tasaDescuento = descuentoVal / (valorVal * tiempoVal);
            } else {
                tasaDescuento = descuentoVal / (valorVal * tiempoVal);
            }
            
            const resultDiv = document.getElementById('td-result');
            resultDiv.innerHTML = `
                <p><strong>Tasa de Descuento ${tipo === 'comercial' ? 'Comercial' : 'Racional'}:</strong> ${(tasaDescuento * 100).toFixed(4)}%</p>
                <p>Fórmula aplicada: ${tipo === 'comercial' 
                    ? `d = D / (VN × n) = ${descuentoVal} / (${valorVal} × ${tiempoVal})` 
                    : `d = D / (VA × n) = ${descuentoVal} / (${valorVal} × ${tiempoVal})`} = ${tasaDescuento.toFixed(6)}</p>
            `;
            resultDiv.classList.remove('hidden');
        }
        
        function calcularValorPresente() {
            const valorFuturo = document.getElementById('vp-valor-futuro');
            const tasa = document.getElementById('vp-tasa');
            const periodos = document.getElementById('vp-periodos');
            
            if (!validarCampos([
                {value: parseFloat(valorFuturo.value), label: 'Valor Futuro'},
                {value: parseFloat(tasa.value), label: 'Tasa de interés'},
                {value: parseFloat(periodos.value), label: 'Número de períodos'}
            ])) return;
            
            const valorFuturoVal = parseFloat(valorFuturo.value);
            const tasaVal = parseFloat(tasa.value) / 100;
            const periodosVal = parseFloat(periodos.value);
            
            const valorPresente = valorFuturoVal / Math.pow(1 + tasaVal, periodosVal);
            
            const resultDiv = document.getElementById('vp-result');
            resultDiv.innerHTML = `
                <p><strong>Valor Presente:</strong> $${valorPresente.toFixed(2)}</p>
                <p><strong>Descuento:</strong> $${(valorFuturoVal - valorPresente).toFixed(2)}</p>
                <p>Fórmula aplicada: VP = VF / (1 + i)<sup>n</sup> = ${valorFuturoVal} / (1 + ${tasaVal})<sup>${periodosVal}</sup> = ${valorPresente.toFixed(2)}</p>
            `;
            resultDiv.classList.remove('hidden');
        }
        
        function calcularValorFuturo() {
            const valorPresente = document.getElementById('vf-valor-presente');
            const tasa = document.getElementById('vf-tasa');
            const periodos = document.getElementById('vf-periodos');
            
            if (!validarCampos([
                {value: parseFloat(valorPresente.value), label: 'Valor Presente'},
                {value: parseFloat(tasa.value), label: 'Tasa de interés'},
                {value: parseFloat(periodos.value), label: 'Número de períodos'}
            ])) return;
            
            const valorPresenteVal = parseFloat(valorPresente.value);
            const tasaVal = parseFloat(tasa.value) / 100;
            const periodosVal = parseFloat(periodos.value);
            
            const valorFuturo = valorPresenteVal * Math.pow(1 + tasaVal, periodosVal);
            
            const resultDiv = document.getElementById('vf-result');
            resultDiv.innerHTML = `
                <p><strong>Valor Futuro:</strong> $${valorFuturo.toFixed(2)}</p>
                <p><strong>Interés Generado:</strong> $${(valorFuturo - valorPresenteVal).toFixed(2)}</p>
                <p>Fórmula aplicada: VF = VP × (1 + i)<sup>n</sup> = ${valorPresenteVal} × (1 + ${tasaVal})<sup>${periodosVal}</sup> = ${valorFuturo.toFixed(2)}</p>
            `;
            resultDiv.classList.remove('hidden');
        }
    </script>
</body>
</html>
